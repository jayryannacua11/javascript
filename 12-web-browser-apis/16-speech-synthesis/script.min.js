const voiceSelect=document.getElementById("voice-select"),synth=window.speechSynthesis;let voices;const addVoicesToSelect=()=>{voices=synth.getVoices();for(let i=0;i<voices.length;i++){const option=document.createElement("option");option.textContent=`${voices[i].name}`,voices[i].default&&(option.textContent+=" - DEFAULT"),option.setAttribute("data-lang",voices[i].lang),option.setAttribute("data-name",voices[i].name),voiceSelect.appendChild(option)}},onSubmit=e=>{e.preventDefault();const textInput=document.getElementById("text-input"),utterThis=new SpeechSynthesisUtterance(textInput.value),selectedOption=voiceSelect.selectedOption[0].getAttribute("data-name");console.log(selectedOption);for(let i=0;i<voices.length;i++)voices[i].name===selectedOption&&(utterThis.voice=voices[i]);synth.speak(utterThis)};addVoicesToSelect(),void 0!==speechSynthesis.onvoiceschanged&&(speechSynthesis.onvoiceschanged=addVoicesToSelect),document.getElementById("form").addEventListener("submit",onSubmit);