const musicContainer=document.getElementById("music-container"),playBtn=document.getElementById("play"),prevBtn=document.getElementById("prev"),nextBtn=document.getElementById("next"),audio=document.getElementById("audio"),progress=document.getElementById("progress"),progressContainer=document.getElementById("progress-container"),title=document.getElementById("title"),cover=document.getElementById("cover"),songs=["hey","summer","ukulele"];let songIndex=2;function loadSong(song){title.innerText=song,audio.src=`music/${song}.mp3`,cover.src=`images/${song}.jpg`}loadSong(songs[songIndex]);const playSong=()=>{musicContainer.classList.add("play"),playBtn.querySelector("i.fas").classList.remove("fa-play"),playBtn.querySelector("i.fas").classList.add("fa-pause"),audio.play()},pauseSong=()=>{musicContainer.classList.remove("play"),playBtn.querySelector("i.fas").classList.remove("fa-pause"),playBtn.querySelector("i.fas").classList.add("fa-play"),audio.pause()},prevSong=()=>{songIndex--,songIndex<0&&(songIndex=songs.length-1),loadSong(songs[songIndex]),playSong()},nextSong=()=>{songIndex++,songIndex>songs.length-1&&(songIndex=0),loadSong(songs[songIndex]),playSong()},updateProgress=e=>{const{duration:duration,currentTime:currentTime}=e.srcElement,progressPercent=currentTime/duration*100;progress.style.width=`${progressPercent}%`};function setProgress(e){const width=this.clientWidth,clickX=e.offsetX,duration=audio.duration;isFinite(duration)&&(audio.currentTime=clickX/width*duration)}playBtn.addEventListener("click",()=>{const isPlaying=musicContainer.classList.contains("play");isPlaying?pauseSong():playSong()}),prevBtn.addEventListener("click",prevSong),nextBtn.addEventListener("click",nextSong),audio.addEventListener("timeupdate",updateProgress),progressContainer.addEventListener("click",setProgress);